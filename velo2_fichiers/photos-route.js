(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"0YDr":function(e,t,a){var n=a("7Paf"),o=a("zZ0H");e.exports=function(e){return e&&e.length?n(e,o):0}},"3p8y":function(e,t,a){e.exports={containerLayout:"PrOBO",wrapper:"WMwuA",container:"_1OYbO PrOBO",stickyHeaderContainer:"_33qjA",spinnerWrapper:"xn9xU"}},"41dW":function(e,t,a){"use strict";var n=a("m2xi"),o=a.n(n),r=a("TSYQ"),c=a.n(r),i=a("q1tI"),l=a.n(i),s=a("vP3l"),u=a("t7e5"),m=a("SYrX"),d=a("MjpO"),p=a("tfpQ"),f=a("qs53"),h=a("DYS2"),b=a.n(h),g=function(e){return l.a.createElement(p.b,Object.assign({},e,{className:b.a.shareLink,buttonType:"outline"}),(t={buttonShareType:e.type},a=t.buttonShareType,p.a.match({email:function(){return l.a.createElement(s.a,{className:b.a.emailShareLinkIcon})},facebook:function(){return l.a.createElement(u.a,{className:b.a.facebookShareLinkIcon})},twitter:function(){return l.a.createElement(d.a,{className:b.a.twitterShareLinkIcon})},pinterest:function(){return l.a.createElement(m.a,{className:b.a.pinterestShareLinkIcon})}})(a)),l.a.createElement("span",{className:b.a.shareLinkText},o()(e.type.tag)));var t,a},y=function(e){var t=e.title,a=e.buttonsShareProps,n=e.link;return l.a.createElement("div",null,l.a.createElement("div",{className:b.a.container},l.a.createElement("div",{className:b.a.cell},l.a.createElement("h2",{className:b.a.title},"Share"),l.a.createElement("span",{className:b.a.subtitle},t)),l.a.createElement("div",{className:c()(b.a.halfCell,b.a.shareLinks)},a.map(function(e){return l.a.createElement("div",{key:e.type.tag,className:c()(b.a.halfCell,b.a.shareLinkContainer)},g(e))})),l.a.createElement("div",{className:b.a.cell},l.a.createElement(f.a,{buttonText:"Copy link"},n))))};y.displayName="ShareModalContent";var v=y;a.d(t,"a",function(){return v})},"5pOj":function(e,t,a){e.exports={spacingUnit:"4px",containerPaddingUnit:"calc(4px * 4)",cellPaddingUnit:"calc(4px * 2)",container:"_1OFta",cell:"_1EBGx"}},"6Dux":function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(t){return function(e){return t.username===e.username}}},"7Paf":function(e,t){e.exports=function(e,t){for(var a,n=-1,o=e.length;++n<o;){var r=t(e[n]);void 0!==r&&(a=void 0===a?r:a+r)}return a}},"84kf":function(e,t,a){e.exports={fontWeightNormal:"_27Bp2",clearfix:"_2KLco",gutter:"calc(4px * 3)",contentContainer:"_33G6-",heading:"_2gjZV _33G6-"}},"8hMo":function(e,t,a){e.exports={truncate:"_1ByhS",resetBtn:"DWLeW",containerTruncated:"_3PLD4",text:"KNDj7",textNotTruncated:"_2FfeD",textTruncated:"b5rtm _1ByhS",toggleButton:"_19oEl DWLeW"}},BUGo:function(e,t,a){e.exports={colorWhite:"#fff",colorLightGrey:"#ddd",colorGrey:"#999",colorDarkGrey:"#777",colorBlue:"#007fff",colorDarkBlue:"#006aff",colorBlack:"#000",followButton:"_3nDcb",isFollowing:"_2br-F",followIcon:"_2BKrY"}},C4Tp:function(e,t,a){e.exports={fontWeightNormal:"_27Bp2",clearfix:"_2KLco",gutter:"calc(4px * 3)",contentContainer:"_1zDIT",heading:"_1-q17 _27Bp2"}},DYS2:function(e,t,a){e.exports={spacingUnit:"4px",fontWeightNormal:"_27Bp2",colorFacebook:"#3b5998",colorTwitter:"#1da1f2",colorPinterest:"#c92228",colorDarkGrey:"#777",containerPaddingUnit:"calc(4px * 4)",cellPaddingUnit:"calc(4px * 2)",cellPaddingUnitHalf:"4px",headerFontSize:"21px",smallFontSize:"12px",container:"_2VlB5",cell:"_1dPrd",halfCell:"_201D8",title:"_32uh- _27Bp2",subtitle:"_2B7-n",shareLinks:"_3E7sP",shareLinkContainer:"_1J04C",shareLink:"_2SPjs",shareLinkIcon:"_2U6YH",facebookShareLinkIcon:"_272Go _2U6YH",twitterShareLinkIcon:"_1tkzW _2U6YH",pinterestShareLinkIcon:"ZO3Vz _2U6YH",emailShareLinkIcon:"_2L646 _2U6YH",shareLinkText:"_1Wr08"}},Ha4l:function(e,t,a){e.exports={colorGrey:"#999",colorLightBlack:"#111",descriptionExpanded:"_2tqNT",descriptionTruncationNotRequired:"_1fn3S",descriptionTruncated:"_3kvp0"}},J4Es:function(e,t,a){"use strict";a.d(t,"a",function(){return h}),a.d(t,"b",function(){return g});var i=a("q1tI"),l=a.n(i),n=a("/MKj"),o=a("b2r9"),s=a("pq3u"),u=a("uNqx");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h,c,b=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(a[n[o]]=e[n[o]])}return a};(c=h||(h={})).StaticRoute="StaticRoute",c.DynamicRoute="DynamicRoute";var g=function(e){var c=e.routeType;return function(r){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,p(t).apply(this,arguments))}var a,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,i["Component"]),a=t,(n=[{key:"componentDidUpdate",value:function(){c===h.DynamicRoute?this.props.dynamicRouteComponentUpdated({}):this.props.staticRouteComponentUpdated({})}},{key:"render",value:function(){var e=this.props,t=(e.dynamicRouteComponentUpdated,e.staticRouteComponentUpdated,b(e,["dynamicRouteComponentUpdated","staticRouteComponentUpdated"]));return l.a.createElement(r,Object.assign({},t))}}])&&m(a.prototype,n),o&&m(a,o),t}();e.displayName="TrackRouteUpdates(".concat(Object(u.a)(r),")");var t=Object(s.b)()({dynamicRouteComponentUpdated:o.a.DynamicRouteComponentUpdated,staticRouteComponentUpdated:o.a.StaticRouteComponentUpdated});return Object(n.connect)(null,t)(e)}}},JLkd:function(e,t,a){"use strict";a.r(t);var E=a("7H/G"),n=a("WG02"),r=a.n(n),o=a("56YH"),m=a.n(o),c=a("17x9"),i=a.n(c),l=a("q1tI"),y=a.n(l),s=a("/MKj"),u=a("K9Ia"),d=a("F/XL"),p=a("p0Sj"),f=a("15JJ"),h=a("psW0"),b=a("mrSG"),g=a("FFOo");var v=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new O(e,this.predicate,this.source))},e}(),O=function(o){function e(e,t,a){var n=o.call(this,e)||this;return n.predicate=t,n.source=a,n.count=0,n.index=0,n}return b.a(e,o),e.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},e.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(g.a),I=a("aGNc"),w=a("dEwP");var S=a("dC0D"),j=a("67Y/"),_=a("ad02"),R=a("9Z1F"),T=a("ny24"),D=a("S1nX"),N=a("b2r9"),P=a("acyj"),C=a("d8i8"),k=a("OcE/"),x=a("pq3u"),L=a("TRoG"),A=a("7lYH"),F=a("J4Es"),U=a("KwrD"),M=a("Piri"),B=a("DQFP"),W=a("fxC5"),q=a("MH8j"),G=a("tbx4"),z=a("AEzq"),H=a("TSYQ"),Z=a.n(H),V=a("TJpk"),K=a.n(V),Y=a("umpm"),Q=a.n(Y),J=a("m2xi"),X=a.n(J),$=a("mwIZ"),ee=a.n($),te=a("Xp7I"),ae=a.n(te),ne=a("rd0y"),oe=a("s6EG"),re=a("g9Q9"),ce=a("vjdK");function ie(e){var t=ae()(e,ne.c).map(function(e){return e.title});return Q()(t)}function le(e,t){var a=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).cleanVersion,n=void 0!==a&&a,o=[n?"Download this photo":"Download this free HD photo"];if(t.tags&&!n){var r=ie(t.tags);o.push("of",r)}if(ee()(t,"location.city")||ee()(t,"location.country")){var c=[t.location.city,t.location.country].filter(function(e){return!!e}).join(", ");o.push("in ".concat(c))}return o.push("by ".concat(e.name," (@").concat(e.username,")")),o.join(" ")}var se=m()(re.c,ce.a);function ue(e,t){var a=e.user,n=function(e,t){var a=ee()(t,"story.title"),n="photo by ".concat(e.name," (@").concat(e.username,") on Unsplash");if(a)return X()("".concat(a," ").concat(n));if(Object(G.d)(t)){var o=ie(t.tags);return X()("".concat(o," HD ").concat(n))}return"HD ".concat(n)}(a,e),o=le(a,e),r=se({photoId:e.id,maybeSubRoute:t}),c=le(a,e,{cleanVersion:!0});return Object(oe.g)({userOption:E.a.some(a),photoOption:E.a.some(e),title:n,description:o,socialDescriptionOption:E.a.some(c),canonicalUrl:r})}var me=a("QH2T"),de=a("W/VI"),pe=a("EqpS"),fe=a("2iEm"),he=a("hyvg"),be=a("G954"),ge=a("tD8i"),ye=a("h8Sd"),ve=a("6kA8"),Oe=a("OlR6"),Ie=a("IsKo"),Ee=a("QFtp"),we=a("8hMo"),Se=a.n(we);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Re(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ne=Object(Ee.unionize)({NotRequired:Object(Ee.ofType)(),Truncated:Object(Ee.ofType)(),Expanded:Object(Ee.ofType)()}),Pe=function(e){function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=Re(this,Te(a).call(this,e))).updateRef=function(e){t.textElRef=e},t.state=t.getInitialState(),t}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(a,l["PureComponent"]),t=a,(n=[{key:"getInitialState",value:function(){return{doesRequireTruncation:!0,shouldForceTruncation:!0}}},{key:"componentDidMount",value:function(){var e,t,a=this,n=(t=E.a.of(a.textElRef).get(),(e=t).offsetWidth<e.scrollWidth);this.setState({doesRequireTruncation:n,shouldForceTruncation:!1})}},{key:"render",value:function(){var e,t,a,n,o,r,c,i=this.props,l=i.text,s=i.containerClassNameTruncated,u=i.containerClassNameExpanded,m=i.containerClassNameTruncationNotRequired,d=(e=this.props,t=this.state,a=e.onRequestToggle,n=e.shouldTruncateIfRequired,o=e.shouldShowTruncateButtonWhenExpanded,r=t.doesRequireTruncation,c=t.shouldForceTruncation,r?c||n?Ne.Truncated({onRequestToggle:a}):Ne.Expanded({onRequestToggle:a,shouldShowTruncateButton:o}):Ne.NotRequired({})),p=Ne.match({Truncated:function(e){var t=e.onRequestToggle;return E.a.some({buttonText:"Read more",onRequestToggle:t})},Expanded:function(e){var t=e.onRequestToggle;return e.shouldShowTruncateButton?E.a.some({buttonText:"Show less",onRequestToggle:t}):E.a.none()},NotRequired:function(){return E.a.none()}})(d);return y.a.createElement("div",{className:Z()(Se.a.container,Ne.match({Truncated:function(){return[Se.a.containerTruncated,s]},Expanded:function(){return[u]},NotRequired:function(){return[m]}})(d))},y.a.createElement("p",{ref:this.updateRef,className:Z()(Se.a.text,Ne.match({Truncated:function(){return Se.a.textTruncated}},function(){return Se.a.textNotTruncated})(d))},l)," ",p.map(function(e){var t=e.buttonText,a=e.onRequestToggle;return y.a.createElement("button",{className:Se.a.toggleButton,onClick:a},t)}).orUndefined())}}])&&_e(t.prototype,n),o&&_e(t,o),a}();Pe.displayName="TruncatedTextToggle";var Ce=Pe,ke=a("Ha4l"),xe=a.n(ke),Le=Object(Ie.progressivelyEnhance)(function(e){var t=e.description,a=e.shouldTruncate,n=e.onRequestToggleTruncation;return y.a.createElement(Ce,{key:t,text:t,containerClassNameTruncationNotRequired:xe.a.descriptionTruncationNotRequired,containerClassNameExpanded:xe.a.descriptionExpanded,containerClassNameTruncated:xe.a.descriptionTruncated,shouldTruncateIfRequired:a,shouldShowTruncateButtonWhenExpanded:!1,onRequestToggle:n})}),Ae=a("pKCy"),Fe=a.n(Ae),Ue=function(e){return y.a.createElement("div",{className:Fe.a.textContainerItem},e)},Me=function(e){var t=e.photo,a=e.location,n=e.shouldTruncateDescription,o=e.onRequestToggleTruncatedDescription,r={pathname:Object(re.c)({photoId:t.id,maybeSubRoute:E.a.some(he.d.info)}),state:a.state},c={pathname:Object(re.c)({photoId:t.id,maybeSubRoute:E.a.some(he.d.share)}),state:a.state},i=Object(G.d)(t)?E.a.of(t.story.description):E.a.none(),l=Object(G.d)(t)?E.a.of(t.location).map(function(e){return e.title}):E.a.none(),s={url:t.links.html,title:E.a.of(t.description).getOrElse(""),text:Object(be.b)(t.user)};return y.a.createElement("div",{className:Fe.a.container},y.a.createElement("div",{className:Fe.a.textContainer},l.map(function(e){return y.a.createElement(fe.a,{to:Object(re.e)(e),className:Fe.a.locationLink},y.a.createElement(ye.a,{className:Fe.a.locationIcon}),y.a.createElement("span",{className:Fe.a.locationTitle},e))}).map(Ue).orUndefined(),i.map(function(e){return y.a.createElement(Le,{description:e,shouldTruncate:n,onRequestToggleTruncation:o})}).map(Ue).orUndefined()),y.a.createElement("div",{className:Fe.a.cell},y.a.createElement(Oe.a,{shareLocationDescriptor:c,shareOptions:s,className:Fe.a.smallButton})),y.a.createElement("div",{className:Fe.a.cell},y.a.createElement(ve.a,{className:Fe.a.button,tag:"link",buttonType:"outline",buttonSize:"small",to:r},y.a.createElement(ge.a,{className:Fe.a.buttonIcon}),y.a.createElement("span",{className:Fe.a.buttonText},"Info"))))};Me.displayName="Footer";var Be,We,qe=Me,Ge=a("j+xW"),ze=a("rDRK"),He=a("Y7+X"),Ze=a("XGht"),Ve=a("peh1"),Ke=a("XZbu"),Ye=a("gWca"),Qe=a("Qx4Z"),Je=a.n(Qe),Xe=Object(Ve.createSelector)(function(e,t){return t},function(e){return Object(Ke.a)({photo:e,className:Je.a.secondaryLabel}).getOrElse(Ye.a.Username({}))}),$e=Object(s.connect)(function(e,t){return{secondaryLabel:Xe(e,t.photo)}})(function(e){var t=e.className,a=e.location,n=e.photo,o=e.isLoggedIn,r=e.secondaryLabel,c=o?void 0:"green",i=o?"Download":"Download free";return y.a.createElement("header",{className:Z()(t,Je.a.container)},y.a.createElement("div",{className:Je.a.photographer},y.a.createElement(Ze.a,{includeAvatar:!0,userId:n.user.id,secondaryLabel:r,type:"emphasiseUsername"})),y.a.createElement("div",{className:Je.a.actions},y.a.createElement("div",{className:Je.a.buttonCell},y.a.createElement(He.a,{photoId:n.id,location:a})),y.a.createElement("div",{className:Je.a.buttonCell},y.a.createElement(Ge.a,{photoId:n.id,location:a})),y.a.createElement("div",{className:Je.a.downloadButtonCell},y.a.createElement(ze.a,{photoId:n.id,showLabel:!0,type:c,label:i,className:Je.a.downloadButton}))))}),et=a("PCiO"),tt=a("GBJA"),at=Object(tt.a)("M19 3v3h4.8l-4.4 4.5 2 2L26 8.2v5h3V3M6 24v-4.6H3V29h9.6v-3H8l5-5-2-2"),nt=Object(tt.a)("M3 19v3h4.8l-4.4 4.5 2 2L10 24v5h3V19m9-11V3.4h-3V13h9.6v-3H24l5-5-2-2"),ot=a("kmxY"),rt=a("NbrK"),ct=a("gDEP"),it=a("uYHa");(We=Be||(Be={})).portrait="portrait",We.landscape="landscape",We.square="square";var lt=function(e){var t,a,n,o=(a=(t=e).width,n=t.height,a<n?Be.portrait:n<a?Be.landscape:Be.square);return o===Be.square||o===Be.portrait},st=a("aGzw"),ut=a.n(st);function mt(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var dt=Object(Ee.unionize)({Unenhanced:Object(Ee.ofType)(),Enhanced:Object(Ee.ofType)()}),pt=function(e){var t,a,n,o=e.magicalVerticalOffset,r=function(){var e=Object(rt.g)(10),t=20+o,a=Object(rt.e)({styles:Qe,key:"outerHorizontalGutter",fallback:100});return{TOTAL_HORIZONTAL_PADDING:2*a,TOTAL_VERTICAL_PADDING:t,HORIZONTAL_PADDING_LENGTH:Object(rt.g)(a),VERTICAL_PADDING_LENGTH:e}},b=Object(rt.d)(1),c=r(),g=c.TOTAL_HORIZONTAL_PADDING,y=c.TOTAL_VERTICAL_PADDING,i=(t=r(),a=t.TOTAL_HORIZONTAL_PADDING,n=t.TOTAL_VERTICAL_PADDING,{IMAGE_WIDTH_CONSTRAINED_TO_VIEWPORT_WIDTH_LENGTH:Object(rt.a)("".concat(b," - ").concat(Object(rt.g)(a))),IMAGE_HEIGHT_CONSTRAINED_TO_VIEWPORT_HEIGHT_LENGTH:Object(rt.a)("".concat("100vh"," - ").concat(Object(rt.g)(n)))}),v=i.IMAGE_WIDTH_CONSTRAINED_TO_VIEWPORT_WIDTH_LENGTH,l=i.IMAGE_HEIGHT_CONSTRAINED_TO_VIEWPORT_HEIGHT_LENGTH,O=function(e){var t,a=e.photoDimensions;if(lt(a)){var n=a.width/a.height;return t=500,Math.ceil(t*n)}return 500},I=function(e){var t,a=e.photoDimensions,n=a.width/a.height,o=O({photoDimensions:a});return{minWidthLength:Object(rt.g)(o),maxWidthLength:(t=l,Object(rt.a)("(".concat(t,") * ").concat(Object(it.f)(n))))}},s=function(e){var t,a,n,o,r,c,i,l,s,u=e.photoDimensions;if(e.isZoomedOut){var m=I({photoDimensions:u}),d=m.minWidthLength,p=m.maxWidthLength,f=(a={photoDimensions:u}.photoDimensions,n=a.width,o=a.height,r=o/n,c=O({photoDimensions:a}),t=c,i=Math.ceil(t*r),l=["(max-width: ".concat(Object(rt.g)(c+g),")"),"(max-height: ".concat(Object(rt.g)(i+y),")")],s="".concat(n,"/").concat(o),{isMinSizeMediaConditions:l,isConstrainedByViewportHeightMediaCondition:"(min-aspect-ratio: ".concat(s,")")}),h=f.isConstrainedByViewportHeightMediaCondition;return mt(f.isMinSizeMediaConditions.map(function(e){return{mediaCondition:e,width:d}})).concat([{mediaCondition:h,width:p},{width:v}])}return[{width:b}]},u=m()(function(e){var t=e.photoDimensions,a=e.zoomableOptions;return mt([{mediaCondition:st.isFixedMediaCondition,width:b}]).concat(mt(s({photoDimensions:t,isZoomedOut:a.isZoomedOut})))},et.d);return{getPaddingConstants:r,getImgSrcSetString:function(e){var t,a,n,o,r=e.photoDimensions,c=e.baseUrl,i=r.width,l=(a=r,n=a.width,o=n/a.height,{lowerBound:(t=500,Math.ceil(t*o)),upperBound:n}),s=l.lowerBound,u=l.upperBound;return Object(et.b)({baseUrl:c,lowerBound:s,upperBound:u,originalWidth:i,interval:300,getParams:E.a.some(function(){return{q:80}})})},getMinAndMaxWidthsLengths:I,getImgSizesString:u,createFallbackSrc:function(e){return Object(ct.a)(e)({w:1e3,q:80})}}};function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bt(e,t){return!t||"object"!==ft(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vt=function(e){function t(e){var g;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(g=bt(this,gt(t).call(this,e))).renderZoomableImageOverlay=function(e){var t=e.isZoomedOut?at:nt;return y.a.createElement("div",{className:ut.a.overlay},y.a.createElement("div",{className:ut.a.overlayChild},y.a.createElement(t,{className:ut.a.zoomToggleIcon})))},g.renderImage=function(){var e=g.props,t=e.photo,a=e.maybeInitialSrc,n=e.onImgLoad,o=e.magicalVerticalOffset,r=e.renderType,c=g.state.shouldUseInitialSrcIfAvailable,i=t.urls.raw,l=pt({magicalVerticalOffset:o}),s=l.getImgSizesString,u=l.getImgSrcSetString,m=l.createFallbackSrc,d={width:t.width,height:t.height},p=s({zoomableOptions:r.zoomable,photoDimensions:d}),f=function(){return u({photoDimensions:d,baseUrl:i})},h=c?a.map(function(e){return Object(et.e)([{url:e}])}).getOrElseL(f):f(),b=m(i);return y.a.createElement(ot.a,{imgDimensions:t,containerClassName:ut.a.imagePlaceholder,key:t.id,sizes:p,srcSet:h,onLoad:n,src:b,alt:E.a.of(t.description).orUndefined()})},g.renderZoomableImageButton=function(e){var t=e.isZoomedOut,a=e.onRequestToggleZoom,n=Z()(ut.a.imageButton,t?ut.a.imageButtonZoomedOut:ut.a.imageButtonZoomedIn);return y.a.createElement("button",{className:n,onClick:a},g.renderZoomableImageOverlay(e),g.renderImage())},g.renderZoomableImageContainer=function(){var e=g.props,t=e.photo,a=e.magicalVerticalOffset,n=e.renderType,o=pt({magicalVerticalOffset:a}),r=o.getMinAndMaxWidthsLengths,c=o.getPaddingConstants,i=n.zoomable.isZoomedOut,l=c(),s=l.HORIZONTAL_PADDING_LENGTH,u=l.VERTICAL_PADDING_LENGTH,m=r({photoDimensions:{width:t.width,height:t.height}}),d=m.minWidthLength,p=m.maxWidthLength;return y.a.createElement("div",{style:i?{padding:"".concat(u," ").concat(s)}:{}},y.a.createElement("div",{style:i?{minWidth:d,maxWidth:p}:{},className:ut.a.imageContainer},dt.match({Unenhanced:g.renderImage,Enhanced:function(e){return g.renderZoomableImageButton(e.zoomable)}})(n)))},g.state=g.getInitialState(),g}var a,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,l["PureComponent"]),a=t,(n=[{key:"getInitialState",value:function(){return{shouldUseInitialSrcIfAvailable:!0}}},{key:"componentDidMount",value:function(){var e=this;requestAnimationFrame(function(){requestAnimationFrame(function(){e.disableInitialSrc()})})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.photo;e.photo.id!==t.id&&this.setState(this.getInitialState)}},{key:"componentDidUpdate",value:function(){var e=this;this.state.shouldUseInitialSrcIfAvailable&&requestAnimationFrame(function(){requestAnimationFrame(function(){e.state.shouldUseInitialSrcIfAvailable&&e.disableInitialSrc()})})}},{key:"disableInitialSrc",value:function(){this.setState({shouldUseInitialSrcIfAvailable:!1})}},{key:"render",value:function(){return y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:ut.a.isFixed},this.renderImage()),y.a.createElement("div",{className:ut.a.isZoomable},this.renderZoomableImageContainer()))}}])&&ht(a.prototype,n),o&&ht(a,o),t}(),Ot=a("RGU6"),It=a("R3Dg"),Et=a("oW1j"),wt=a("csaK"),St=a("C4Tp"),jt=a.n(St),_t=Object(Et.a)(wt.b),Rt=wt.a.Multi({shouldUseContainerPadding:!1}),Tt=function(e){var t=e.photoIdsRemoteData,a=function(e){var t=e.bodyPhotoIdsRemoteData;return y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:jt.a.clearfix},y.a.createElement("h4",{className:jt.a.heading},"Related photos")),y.a.createElement("div",{className:jt.a.contentContainer},function(e){var t=e.bodyPhotoIdsRemoteData;switch(t.type){case z.f.Reloading:case z.f.Success:return y.a.createElement(_t,{photoIds:t.value,mode:Rt});case z.f.Loading:return y.a.createElement(de.a,{padContentBelow:!1})}}({bodyPhotoIdsRemoteData:t})))};switch(t.type){case z.f.Reloading:case z.f.Loading:return a({bodyPhotoIdsRemoteData:t});case z.f.Success:return 0===t.value.length?null:a({bodyPhotoIdsRemoteData:t});case z.f.Failure:case z.f.NotAsked:return null}},Dt=a("0YDr"),Nt=a.n(Dt),Pt=a("0uHb"),Ct=a("iTXL"),kt=a("gcgR"),xt=a("nVTw");function Lt(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var At=Lt(Ct.e.map(function(e){return{title:e.title,linkUrl:e.url}})).concat([{title:"Free pictures",linkUrl:kt.i}]),Ft=function(e){var t=e.originalPhotoTags,a=e.isLoggedIn;return 4<t.length&&!a},Ut=m()(function(e){return e.split("").map(function(e){return E.a.of(e.codePointAt(0)).get()})},Nt.a),Mt=function(e){var t,a,n,o,r=e.photoId;return a=(t={str:r,array:At}).str,n=t.array,o=Ut(a)%n.length,Object(xt.d)(o,n).get()},Bt=function(e){var t,a,n=e.originalPhotoTags,o=e.photoId,r=e.isLoggedIn,c=Object(Pt.a)([(t={photoId:o},a=t.photoId,m()(Ft,function(e){return e?E.a.some(Mt({photoId:a})):E.a.none()})({originalPhotoTags:n,isLoggedIn:r}))]);return Lt(ae()(n,ne.b)).concat(Lt(c))},Wt=function(e){var t=e.type===G.a.related?"Related collections":"Featured in ".concat(e.total," collections"),a=e.results.map(function(e){return e.id});return y.a.createElement(Ot.a,{relatedCollectionIds:a,heading:t})},qt=Object(x.c)()(function(e,t){return{isLoggedIn:Object(q.k)(e)}}),Gt=Object(s.connect)(qt)(function(e){var a=e.photo,t=e.relatedPhotoIdsRemoteData,n=e.isLoggedIn,o=E.a.of(Object(G.d)(a)?a.related_collections:void 0),r=Object(G.d)(a)?E.a.some(a.tags):E.a.none();return y.a.createElement(y.a.Fragment,null,y.a.createElement(Tt,{photoIdsRemoteData:t}),o.map(Wt).getOrElse(void 0),r.map(function(e){var t=Bt({originalPhotoTags:e,photoId:a.id,isLoggedIn:n});return y.a.createElement(It.a,{headingCopy:"Related tags",tags:t,showHeading:!0,maximumResultsCount:1/0})}).orUndefined())}),zt=a("3p8y"),Ht=a.n(zt),Zt=function(e){var t,o=e.location,a=e.maybeCachedPhoto,n=e.photoFullInfoRemoteData,r=e.maybeMainImageInitialSrc,c=e.relatedPhotoIdsRemoteData,i=e.onMainImageLoad,l=e.shouldTruncateDescription,s=e.onRequestToggleTruncatedDescription,u=e.isLoggedIn,m=e.children,d=e.mainImageRenderType,p=e.maybeSubRoute,f=function(e){var t=e.photo,a=Object(C.d)(o),n=a?155:200;return y.a.createElement("div",{className:Ht.a.wrapper},y.a.createElement(K.a,Object.assign({},ue(t,p))),y.a.createElement("div",null,y.a.createElement("div",{className:Z()(a&&Ht.a.stickyHeaderContainer)},y.a.createElement($e,{photo:t,location:o,isLoggedIn:u})),y.a.createElement(pe.a,{photoId:t.id},y.a.createElement(vt,{renderType:d,maybeInitialSrc:r,photo:t,onImgLoad:i,magicalVerticalOffset:n})),y.a.createElement(qe,{photo:t,location:o,shouldTruncateDescription:l,onRequestToggleTruncatedDescription:s})),y.a.createElement("div",{className:Ht.a.container},y.a.createElement(Gt,{photo:t,relatedPhotoIdsRemoteData:c})))},h=a.filter(G.c).map(function(e){return f({photo:e})}).getOrElseL(function(){switch(n.type){case z.f.Reloading:case z.f.Success:return f({photo:n.value});case z.f.Loading:return y.a.createElement("div",{className:Ht.a.spinnerWrapper},y.a.createElement(de.a,{padContentBelow:!1}));case z.f.NotAsked:case z.f.Failure:return null}});return t=h,y.a.createElement("div",{"data-test":me.m},t,m)};Zt.displayName="Photos";var Vt,Kt,Yt=Object(l.memo)(Zt),Qt=a("Sh83"),Jt=a("4/vE"),Xt=a("wwzo"),$t=a.n(Xt),ea=function(e){return{backgroundImage:["linear-gradient(hsla(0, 0%, 100%, 0.8), white 150px)",Object(Qt.s)(e)].join(", ")}},ta=function(e){var t,a,n,o=e.maybeRawPhotoUrl,r=e.maybeMainImageCurrentSrc;return(t={maybeRawPhotoUrl:o,maybeMainImageCurrentSrc:r},a=t.maybeRawPhotoUrl,n=t.maybeMainImageCurrentSrc,a.map(function(e){return Object(ct.a)(e)({w:200,blur:20})}).orElse(n)).map(ea).orUndefined()},aa=function(e){var t=e.photoId,a=e.maybeRawPhotoUrl,n=e.maybeMainImageCurrentSrc,o=e.location,r=e.children;return y.a.createElement(Jt.a,{redirectTo:{pathname:Object(re.c)({photoId:t})},location:o,contentStyles:ta({maybeRawPhotoUrl:a,maybeMainImageCurrentSrc:n}),contentClassName:$t.a.modalContentModifier},r)},na=a("fqlR"),oa=Object(tt.a)("M27.5 18.08a1 1 0 0 0-1.42 0l-9.08 8.59v-23.67a1 1 0 0 0-2 0v23.67l-9.08-8.62a1 1 0 1 0-1.38 1.45l10.77 10.23a1.19 1.19 0 0 0 .15.09.54.54 0 0 0 .16.1.94.94 0 0 0 .76 0 .54.54 0 0 0 .16-.1l.15-.09 10.77-10.23a1 1 0 0 0 .04-1.42z"),ra=Object(tt.a)("M31.8 15.1l-.2-.4c-3.5-6.9-9.7-11.5-15.6-11.5-6.3 0-12.3 4.5-15.7 11.7l-.2.4c-.2.5-.2 1.1 0 1.6l.2.4c3.6 7 9.7 11.5 15.6 11.5 6.3 0 12.3-4.5 15.6-11.6l.2-.4c.4-.5.4-1.2.1-1.7zm-2 1.2c-3 6.5-8.3 10.5-13.8 10.5-5.2 0-10.6-4.1-13.8-10.4l-.2-.4.1-.3c3.1-6.5 8.4-10.5 13.9-10.5 5.2 0 10.6 4.1 13.8 10.4l.2.4-.2.3zm-13.8-6.6c-3.5 0-6.3 2.8-6.3 6.3s2.8 6.3 6.3 6.3 6.3-2.8 6.3-6.3-2.8-6.3-6.3-6.3zm0 10.6c-2.4 0-4.3-1.9-4.3-4.3s1.9-4.3 4.3-4.3 4.3 1.9 4.3 4.3-1.9 4.3-4.3 4.3z"),ca=Object(tt.a)("M28.7 5.5c-1.6-1.5-3.6-2.4-5.7-2.4s-4.2.8-5.7 2.4l-1.3 1.6-1.3-1.6c-1.5-1.5-3.6-2.4-5.7-2.4s-4.1.9-5.7 2.4c-3.1 3.1-3.1 8.2 0 11.4l10.8 11.1c.5.5 1.2.8 1.9.8s1.4-.3 1.9-.8l10.7-11.2c3.2-3.1 3.2-8.2.1-11.3zm-1.5 10l-10.7 11.1c-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-10.7-11.1c-2.3-2.4-2.3-6.2 0-8.5 1.1-1.2 2.6-1.9 4.2-1.9s3.1.6 4.2 1.7l2.8 3.4 2.7-3.4c1.1-1.1 2.6-1.8 4.2-1.8s3.1.6 4.2 1.8c2.5 2.5 2.5 6.3.1 8.7z"),ia=a("wDsy"),la=function(e){return"ƒ/".concat(e)},sa=function(e){return"".concat(e,"s")},ua=function(e){return"".concat(e,"mm")},ma=a("mDfz"),da=a.n(ma);(Kt=Vt||(Vt={}))[Kt.views=0]="views",Kt[Kt.downloads=1]="downloads",Kt[Kt.likes=2]="likes";var pa=function(){return y.a.createElement("div",{className:da.a.container},y.a.createElement("div",{className:da.a.cell},y.a.createElement(de.a,{padContentBelow:!1})))},fa=function(e){var t=e.type,a=e.statRemoteData,n=function(e){switch(e){case Vt.views:return ra;case Vt.downloads:return oa;case Vt.likes:return ca}}(t);return y.a.createElement("div",{className:da.a.stat},y.a.createElement("dt",{className:da.a.statLabel},y.a.createElement(n,{className:da.a.statLabelIcon}),y.a.createElement("span",{className:da.a.statLabelText},function(e){switch(e){case Vt.views:return"Views";case Vt.downloads:return"Downloads";case Vt.likes:return"Likes"}}(t))),function(e){var t=e.statRemoteData;switch(t.type){case z.f.Success:var a=t.value;return y.a.createElement("dd",{className:da.a.statValue},y.a.createElement("span",{className:da.a.statValueTotal},Object(Qt.f)(a.total)),y.a.createElement("span",{className:da.a.statValueDelta},Object(Qt.h)(a.historical.change)," since last month"));case z.f.Loading:return y.a.createElement("dd",{className:da.a.statValue},y.a.createElement("div",{className:da.a.statValueTotalPlaceholder}),y.a.createElement("div",{className:da.a.statValueDeltaPlaceholder}))}}({statRemoteData:a}))},ha=function(e){return y.a.createElement("dl",{className:da.a.stats},fa({type:Vt.views,statRemoteData:e.views}),fa({type:Vt.downloads,statRemoteData:e.downloads}),fa({type:Vt.likes,statRemoteData:e.likes}))},ba=function(e){var t=e.maybeCachedPhotoStats,a=e.photoStatsRemoteData;return t.map(function(e){return ha({views:new z.e(e.views),downloads:new z.e(e.downloads),likes:new z.e(e.likes)})}).orElseL(function(){switch(a.type){case z.f.NotAsked:return E.a.none();case z.f.Failure:return E.a.some((a.value,y.a.createElement("div",{className:da.a.container},y.a.createElement("div",{className:da.a.cell},y.a.createElement("p",{className:da.a.p},"Sorry, there was an error loading stats. Please try again later.")))));case z.f.Reloading:case z.f.Success:var e=a.value;return E.a.some(ha({views:new z.e(e.views),downloads:new z.e(e.downloads),likes:new z.e(e.likes)}));case z.f.Loading:return E.a.some(ha({views:new z.b,downloads:new z.b,likes:new z.b}))}})},ga=function(e){var t,a,n=e.photo,o=(a={photo:n}.photo,[{name:"Camera Make",value:(t=a.exif.make,""!==t?t:void 0)},{name:"Camera Model",value:Object(ia.h)(a.exif.model)},{name:"Focal Length",value:Object(ia.g)(ua,Object(ia.h)(a.exif.focal_length))},{name:"Aperture",value:Object(ia.g)(la,Object(ia.h)(a.exif.aperture))},{name:"Shutter Speed",value:Object(ia.g)(sa,Object(ia.h)(a.exif.exposure_time))},{name:"ISO",value:Object(ia.h)(a.exif.iso)},{name:"Dimensions",value:"".concat(a.width," × ").concat(a.height)}].map(function(e){var t=e.name,a=e.value;return{name:t,value:Object(ia.c)(function(){return"--"},a)}}));return y.a.createElement("dl",{className:da.a.metadata},o.map(function(e){var t=e.name,a=e.value;return y.a.createElement("div",{key:t,className:da.a.metadataItem},y.a.createElement("dt",{className:da.a.metadataItemName},t),y.a.createElement("dd",{className:da.a.metadataItemValue},a))}))},ya=function(e){var t=e.cachedPhoto,a=e.photoFullInfoRemoteData;return Object(G.d)(t)?E.a.some(ga({photo:t})):function(){switch(a.type){case z.f.Reloading:case z.f.Success:return E.a.some(ga({photo:a.value}));case z.f.Loading:return E.a.some(pa());case z.f.NotAsked:return E.a.none();case z.f.Failure:return E.a.some((a.value,y.a.createElement("div",{className:da.a.container},y.a.createElement("div",{className:da.a.cell},y.a.createElement("p",{className:da.a.p},"Sorry, there was an error loading metadata. Please try again later.")))))}}()},va=function(e){var t=e.auth,a=e.photo,n=(E.a.of(t.user).exists(function(e){return e.username===a.user.username})?E.a.some("/account/photos"):t.isAdmin?E.a.some("/super/photos/".concat(a.id,"/edit")):E.a.none()).map(function(e){return y.a.createElement("a",{href:e},"Edit photo")});return Object(na.c)({render:function(e){return y.a.createElement("div",{className:da.a.containerFooter},e)},renderItem:function(e){return y.a.createElement("div",{className:da.a.cell},e)}})([{key:"edit-photo",maybeEl:n}])},Oa=function(e){var t=e.cachedPhoto,a=e.photoFullInfoRemoteData,n=e.photoStatsRemoteData,o=e.auth,r=Object(Qt.e)(new Date(t.created_at)),c=Object(G.e)(t)?E.a.some(t.statistics):E.a.none(),i=Object(G.d)(t)?E.a.some(E.a.of(t.story.title).getOrElseL(function(){return"Info"})):E.a.none(),l=Object(na.b)({render:function(e){return e}})([{key:"stats",maybeEl:ba({maybeCachedPhotoStats:c,photoStatsRemoteData:n})},{key:"metadata",maybeEl:ya({cachedPhoto:t,photoFullInfoRemoteData:a})},{key:"other-links",maybeEl:va({photo:t,auth:o})}]);return y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:da.a.containerTitle},y.a.createElement("div",{className:da.a.cell},i.map(function(e){return y.a.createElement("h2",{className:da.a.title},e)}).orNull(),y.a.createElement("span",{className:da.a.datePublished},"Published on ",y.a.createElement("time",{dateTime:t.created_at},r)))),Object(na.a)(l,function(e){return y.a.createElement("hr",{key:"separator-".concat(e),className:da.a.hr})}))},Ia=Object(s.connect)(function(e,t){return{auth:Object(q.c)(e)}})(function(e){var t=e.maybeCachedPhoto,a=e.photoFullInfoRemoteData,n=e.photoStatsRemoteData,o=e.auth;return t.filter(G.c).map(function(e){return Oa({cachedPhoto:e,photoStatsRemoteData:n,auth:o,photoFullInfoRemoteData:a})}).getOrElseL(function(){switch(a.type){case z.f.Reloading:case z.f.Success:return Oa({cachedPhoto:a.value,photoStatsRemoteData:n,auth:o,photoFullInfoRemoteData:a});case z.f.Loading:return pa();case z.f.NotAsked:case z.f.Failure:return null}})}),Ea=function(e){var t=e.maybeCachedPhoto,a=e.photoId,n=e.maybeMainImageCurrentSrc,o=e.photoFullInfoRemoteData,r=e.photoStatsRemoteData,c=e.location,i=t.filter(G.c).map(function(e){return e.urls.raw});return y.a.createElement(aa,{photoId:a,location:c,maybeMainImageCurrentSrc:n,maybeRawPhotoUrl:i},y.a.createElement(Ia,{maybeCachedPhoto:t,photoFullInfoRemoteData:o,photoStatsRemoteData:r}))},wa=a("1nhN"),Sa=a("vkVY"),ja=a("tfpQ"),_a=a("41dW"),Ra=a("5pOj"),Ta=a.n(Ra),Da=function(e){var t=e.photo,a=t.links.html,n=function(e){return Object(Sa.g)(a,{utmSource:e,utmContent:wa.i.PHOTOS_PAGE_SHARE})},o=Object(be.b)(t.user),r=Object(ct.a)(t.urls.raw)({w:2e3}),c=[{url:n("facebook"),type:ja.a.facebook({})},{url:n("pinterest"),type:ja.a.pinterest({message:o,media:r})},{url:n("twitter"),type:ja.a.twitter({message:o})},{url:n("email"),type:ja.a.email({})}];return y.a.createElement(_a.a,{title:"Photo by ".concat(t.user.name),buttonsShareProps:c,link:a})},Na=function(e){var t=e.maybeCachedPhoto,a=e.photoFullInfoRemoteData;return t.filter(G.c).map(function(e){return Da({photo:e})}).getOrElseL(function(){switch(a.type){case z.f.Reloading:case z.f.Success:return Da({photo:a.value});case z.f.Loading:return y.a.createElement("div",{className:Ta.a.container},y.a.createElement("div",{className:Ta.a.cell},y.a.createElement(de.a,{padContentBelow:!1})));case z.f.NotAsked:case z.f.Failure:return null}})},Pa=function(e){var t=e.maybeCachedPhoto,a=e.photoId,n=e.maybeMainImageCurrentSrc,o=e.photoFullInfoRemoteData,r=e.location;return y.a.createElement(aa,{photoId:a,location:r,maybeMainImageCurrentSrc:n,maybeRawPhotoUrl:t.filter(G.c).map(function(e){return e.urls.raw})},y.a.createElement(Na,{maybeCachedPhoto:t,photoFullInfoRemoteData:o}))},Ca=Object(k.e)("photo"),ka=function(e){return m()(e.photos.getPhotoWithInfo,Object(j.a)(function(e){return new z.e(e)}))},xa=function(e){var t=e.value,a=Ca(t).entities;return[Object(N.Y)(a),N.a.UpdatePhotoFullInfoRemoteData({photoId:t.id,photoFullInfoRemoteData:e})]};function La(e){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Aa(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fa(e){return(Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ua(e,t){return(Ua=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ba=Object(k.e)("relatedPhotos"),Wa=function(e){function o(e){var t,a,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a=this,n=Fa(o).call(this,e),(t=!n||"object"!==La(n)&&"function"!=typeof n?Ma(a):n).resetNumberOfRequests=function(){t.resetNumberOfRequestsSubject.next({})},t.onRequestToggleTruncatedDescription=function(){var e=t.props.location;t.context.router.history.replace(Object(C.r)(function(e){return{shouldTruncateDescription:!e.shouldTruncateDescription}})(e))},t.state=t.getInitialState(),t.onRequestMainImageToggleZoom=t.onRequestMainImageToggleZoom.bind(Ma(Ma(t))),t.onMainImageLoad=t.onMainImageLoad.bind(Ma(Ma(t))),t.onRootRouteLeaveSubject=new u.a,t.onInfoRouteLeaveSubject=new u.a,t.requestSubject=new u.a,t.resetNumberOfRequestsSubject=new u.a,t}var t,a,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ua(e,t)}(o,l["PureComponent"]),t=o,(a=[{key:"getDefaultState",value:function(){return{mainImageCurrentSrc:E.a.none()}}},{key:"getInitialState",value:function(){return this.getDefaultState()}},{key:"getResetState",value:function(){return this.getDefaultState()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.routeData,a=e.renderType;this.setupProgressBar(),U.a.is.Unenhanced(a)||this.fetchThenCacheAndSet(),this.fetchRelatedPhotosThenCacheAndSet(),t.maybeSubRoute.exists(function(e){return e===L.b.info})&&this.fetchPhotoStatsThenCacheAndSet()}},{key:"componentWillReceiveProps",value:function(e){var a=this,t=this.props,n=t.routeData,o=t.maybePhoto,r=t.photoFullInfoRemoteData,c=t.photoStatsRemoteData,i=e.maybePhoto;n.photoId!==e.routeData.photoId?this.reset():i.forEach(function(t){o.map(function(e){return e!==t}).getOrElse(!0)&&(r.type===z.f.Success&&Object(G.d)(t)&&a.updatePhotoFullInfoRemoteData(new z.e(t)),c.type===z.f.Success&&Object(G.e)(t)&&a.updatePhotoStatsRemoteData(new z.e(t.statistics)))})}},{key:"componentDidUpdate",value:function(e){var t=this.props.routeData,a=t.photoId,n=t.maybeSubRoute,o=e.routeData,r=o.photoId,c=o.maybeSubRoute;a!==r&&(this.cleanup(),this.fetchThenCacheAndSet(),this.fetchRelatedPhotosThenCacheAndSet());var i=c.exists(function(e){return e===L.b.info}),l=n.exists(function(e){return e===L.b.info});!i&&l?this.fetchPhotoStatsThenCacheAndSet():i&&!l&&this.onInfoRouteLeaveSubject.next({})}},{key:"componentWillUnmount",value:function(){this.cleanup()}},{key:"setupProgressBar",value:function(){var e=this.requestSubject.asObservable(),t=this.props,a=t.hideProgressBar,n=t.showProgressBar;this.resetNumberOfRequestsSubject.asObservable().pipe(Object(p.a)({}),Object(f.a)(function(){return e.pipe(Object(h.a)(function(e){var t,a=Object(d.a)({}),n=e.pipe(function(e){return e.lift(new v(t,e))});return a.pipe(Object(I.a)(1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(w.a.apply(void 0,[e].concat(t)))}}(n.pipe(Object(I.a)(-1))))}),Object(S.a)(r.a,0),Object(p.a)(0))})).pipe(Object(j.a)(function(e){return 0<e}),Object(_.a)()).subscribe(function(e){e?n():a()})}},{key:"cleanup",value:function(){this.onRootRouteLeaveSubject.next({}),this.onInfoRouteLeaveSubject.next({})}},{key:"updatePhotoFullInfoRemoteData",value:function(e){var t=this.props,a=t.updatePhotoFullInfoRemoteData;a({photoId:t.routeData.photoId,photoFullInfoRemoteData:e})}},{key:"updateRelatedPhotoIdsRemoteData",value:function(e){var t=this.props,a=t.updateRelatedPhotoIdsRemoteData;a({photoId:t.routeData.photoId,relatedPhotoIdsRemoteData:e})}},{key:"updatePhotoStatsRemoteData",value:function(e){var t=this.props,a=t.updatePhotoStatsRemoteData;a({photoId:t.routeData.photoId,photoStatsRemoteData:e})}},{key:"reset",value:function(){this.setState(this.getResetState()),this.resetNumberOfRequests()}},{key:"fetchThenCacheAndSet",value:function(){var e=this.props,t=e.routeData,a=e.maybePhoto,n=e.setErrorFlash,o=e.dispatch,r=t.photoId,c=this.context.router.history.replace;this.updatePhotoFullInfoRemoteData(new z.b);var i=ka(P.a)({photoId:r}).pipe(Object(R.a)(function(e){return Object(d.a)(new z.a(e))}),Object(T.a)(this.onRootRouteLeaveSubject),Object(D.a)());i.subscribe(function(e){if(o(N.a.RouteDataUpdated({})),e.type===z.f.Failure)Object(M.d)(e.value)?n({message:"There was a network error. Please check your internet connection."}):(n({message:"There was a server error. Please try again later."}),a.isEmpty()&&Object(L.k)(c)(e.value));else{var t=xa(e);o(N.a.BatchActions({actions:t}))}}),this.requestSubject.next(i)}},{key:"fetchRelatedPhotosThenCacheAndSet",value:function(){var n=this,e=this.props,t=e.routeData,o=e.updateData,a=e.relatedPhotoIdsRemoteData,r=t.photoId,c=function(){switch(a.type){case z.f.Reloading:case z.f.Success:return new z.d(a.value);case z.f.Failure:case z.f.Loading:case z.f.NotAsked:return new z.b}}();this.updateRelatedPhotoIdsRemoteData(c);var i=P.a.photos.getRelatedPhotos({photoId:r}).pipe(Object(j.a)(function(e){return{normalizedResponse:Ba(e),remoteData:new z.e(e.results.map(function(e){return e.id}))}}),Object(R.a)(function(e){return Object(d.a)({normalizedResponse:void 0,remoteData:new z.a(e)})}),Object(T.a)(this.onRootRouteLeaveSubject),Object(D.a)());i.subscribe(function(e){var t=e.normalizedResponse,a=e.remoteData;void 0!==t&&o(t.entities),n.updateRelatedPhotoIdsRemoteData(a)}),this.requestSubject.next(i)}},{key:"fetchPhotoStatsThenCacheAndSet",value:function(){var n=this,e=this.props,t=e.routeData,o=e.updatePhotoStats,r=t.photoId;this.updatePhotoStatsRemoteData(new z.b);var a=P.a.photos.getPhotoStats({photoId:r}).pipe(Object(j.a)(function(e){return{response:e,remoteData:new z.e(e)}}),Object(R.a)(function(e){return Object(d.a)({response:void 0,remoteData:new z.a(e)})}),Object(T.a)(this.onInfoRouteLeaveSubject),Object(D.a)());a.subscribe(function(e){var t=e.response,a=e.remoteData;void 0!==t&&o(r,t),n.updatePhotoStatsRemoteData(a)}),this.requestSubject.next(a)}},{key:"onRequestMainImageToggleZoom",value:function(){this.trackToggleZoomableMainImageZoom(),this.toggleZoomableMainImageZoom()}},{key:"trackToggleZoomableMainImageZoom",value:function(){var e=this.props,t=e.location,a=e.trackZoomedInPhoto,n=e.trackZoomedOutPhoto,o=e.routeData.photoId;Object(C.n)({location:t}).zoomableMainImageOptions.isZoomedOut?a(o):n(o)}},{key:"toggleZoomableMainImageZoom",value:function(){var e=this.props,t=e.location,a=e.pageModalScrollResetRequested,n=this.context.router.history;Object(C.d)(t)&&a(),n.replace(Object(C.r)(function(e){var t=e.zoomableMainImageOptions;return{zoomableMainImageOptions:Object.assign({},t,{isZoomedOut:!t.isZoomedOut})}})(t))}},{key:"onMainImageLoad",value:function(e){var t;this.setState({mainImageCurrentSrc:(t=e.currentTarget,E.a.of(t.currentSrc).filter(A.b).orElseL(function(){return E.a.of(t.src).filter(A.b)}))})}},{key:"renderSubRoute",value:function(){var e=this.props,t=e.routeData,a=e.location,n=e.maybePhoto,o=e.photoFullInfoRemoteData,r=e.photoStatsRemoteData,c=e.renderType,i=t.photoId,l=Object(C.n)({location:a}),s=E.a.of(l.initialSrc),u=t.maybeSubRoute,m=!Object(C.f)(a)&&U.a.is.Enhanced(c);return u.map(function(e){switch(e){case L.b.info:return m&&y.a.createElement(Ea,{location:a,maybeCachedPhoto:n,photoId:i,maybeMainImageCurrentSrc:s,photoFullInfoRemoteData:o,photoStatsRemoteData:r});case L.b.share:return m&&y.a.createElement(Pa,{location:a,maybeCachedPhoto:n,photoId:i,maybeMainImageCurrentSrc:s,photoFullInfoRemoteData:o})}}).orUndefined()}},{key:"render",value:function(){var e=this,t=this.props,a=t.maybePhoto,n=t.location,o=t.isLoggedIn,r=t.photoFullInfoRemoteData,c=t.relatedPhotoIdsRemoteData,i=t.renderType,l=t.routeData,s=Object(C.n)({location:n}),u=s.shouldTruncateDescription,m=U.a.match({Unenhanced:function(){return dt.Unenhanced({zoomable:{isZoomedOut:s.zoomableMainImageOptions.isZoomedOut}})},Enhanced:function(){return dt.Enhanced({zoomable:{isZoomedOut:s.zoomableMainImageOptions.isZoomedOut,onRequestToggleZoom:e.onRequestMainImageToggleZoom}})}})(i),d=E.a.of(s.initialSrc);return y.a.createElement(Yt,{maybeSubRoute:l.maybeSubRoute,maybeCachedPhoto:a,location:n,photoFullInfoRemoteData:r,maybeMainImageInitialSrc:d,relatedPhotoIdsRemoteData:c,onMainImageLoad:this.onMainImageLoad,mainImageRenderType:m,shouldTruncateDescription:u,onRequestToggleTruncatedDescription:this.onRequestToggleTruncatedDescription,isLoggedIn:o},this.renderSubRoute())}}])&&Aa(t.prototype,a),n&&Aa(t,n),o}();Wa.contextTypes={router:i.a.object.isRequired};var qa=Object(x.a)({updateData:N.Y,updatePhotoStats:N.Z,setErrorFlash:N.x,trackZoomedInPhoto:N.U,trackZoomedOutPhoto:N.V,showProgressBar:N.A,hideProgressBar:N.l,pageModalScrollResetRequested:N.p,updatePhotoFullInfoRemoteData:N.a.UpdatePhotoFullInfoRemoteData,updateRelatedPhotoIdsRemoteData:N.a.UpdateRelatedPhotoIdsRemoteData,updatePhotoStatsRemoteData:N.a.UpdatePhotoStatsRemoteData}),Ga=m()(Object(F.b)({routeType:F.a.DynamicRoute}),Object(s.connect)(function(){var n=Object(B.f)(),o=Object(W.b)(),r=Object(W.d)(),c=Object(W.c)();return function(e,t){var a=t.routeData.photoId;return{maybePhoto:E.a.of(n(e,a)),isLoggedIn:Object(q.k)(e),photoFullInfoRemoteData:o(e,{photoId:a}),relatedPhotoIdsRemoteData:r(e,{photoId:a}),photoStatsRemoteData:c(e,{photoId:a})}}},qa),U.b)(Wa);a.d(t,"default",function(){return Ga}),a.d(t,"PhotoFullInfoRemoteData",function(){}),a.d(t,"RelatedPhotoIdsRemoteData",function(){}),a.d(t,"PhotoStatsRemoteData",function(){})},KScQ:function(e,t,a){"use strict";var n=a("TSYQ"),s=a.n(n),o=a("56YH"),r=a.n(o),c=a("mwIZ"),i=a.n(c),l=a("q1tI"),u=a.n(l),m=a("/MKj"),d=a("wIs1"),p=a("5tAl"),f=a("t9fZ"),h=a("b2r9"),b=a("acyj"),g=a("d8i8"),y=a("nVTw"),v=a("2Fwo"),O=a("GBJA"),I=Object(O.a)("M31.2 12.8h-2.4v-2.4c0-.4-.4-.8-.8-.8h-1.6c-.4 0-.8.4-.8.8v2.4h-2.4c-.4 0-.8.4-.8.8v1.6c0 .4.4.8.8.8h2.4v2.4c0 .4.4.8.8.8h1.6c.4 0 .8-.4.8-.8v-2.4h2.4c.4 0 .8-.4.8-.8v-1.6c0-.4-.4-.8-.8-.8zm-15.2 5.1v-1.2c1.9-1.1 3.2-3.1 3.2-5.5v-1.6c0-3.5-2.9-6.4-6.4-6.4s-6.4 2.9-6.4 6.4v1.6c0 2.4 1.3 4.4 3.2 5.5v1.2c-5.5.9-9.6 4-9.6 7.7v1.6c0 .9.7 1.6 1.6 1.6h22.4c.9 0 1.6-.7 1.6-1.6v-1.6c0-3.7-4.1-6.8-9.6-7.7z"),E=a("MH8j"),w=a("XqAV"),S=a("6kA8"),j=a("BUGo"),_=a.n(j);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=Object(y.a)()({labelText:{isFollowing:"Following",isNotFollowing:"Follow"}}),k=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),D(this,N(t).apply(this,arguments))}var a,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,l["Component"]),a=t,(n=[{key:"componentWillUnmount",value:function(){this.followSubscription&&this.followSubscription.unsubscribe()}},{key:"getLabelText",value:function(){var e=this.props.labelText;return this.props.user.followed_by_user?e.isFollowing:e.isNotFollowing}},{key:"buildToLink",value:function(){var e=this.props,t=e.location,a=e.user;return Object(g.a)(t)(w.c.Login(w.b.Follow({userId:a.id})))}},{key:"buildClickHandler",value:function(){var t=this,e=this.props,a=e.authUser,n=e.user,o=e.followUser,r=e.unfollowUser,c=e.trackFollowButtonClick,i=e.trackUnfollowButtonClick,l=e.buttonType;if(!a)return function(){return c(n.id,l)};var s=n.username,u=n.followed_by_user,m=(u?b.a.users.unfollowUser:b.a.users.followUser)({username:s}).pipe(Object(p.a)(3),Object(f.a)(1));return function(e){e.stopPropagation(),u?(r(n.id),i(n.id,l)):(o(n.id),c(n.id,l)),t.followSubscription=m.subscribe()}}},{key:"renderContainer",value:function(e){var t=this.props,a=t.user,n=t.className,o=t.authUser,r=this.buildClickHandler(),c=a.followed_by_user,i=!o,l={className:s()(_.a.followButton,c&&_.a.isFollowing,n),buttonSize:"small"};return i?u.a.createElement(S.a,Object.assign({tag:"link",to:this.buildToLink(),onMouseUp:r},l),e):u.a.createElement(S.a,Object.assign({tag:"button",onMouseUp:r},l),e)}},{key:"render",value:function(){var e=this.props,t=e.user,a=e.authUser;return i()(a,"username")===t.username?u.a.createElement("div",null):this.renderContainer(u.a.createElement("span",null,u.a.createElement(I,{className:_.a.followIcon}),this.getLabelText()))}}])&&T(a.prototype,n),o&&T(a,o),t}();k.displayName="FollowButton";Object(v.a)(k,C);var x={trackFollowButtonClick:h.I,trackUnfollowButtonClick:h.T,followUser:h.j,unfollowUser:h.W},L=Object(v.a)(r()(Object(m.connect)(function(e){return{authUser:Object(E.d)(e)}},x),d.a)(k),C);a.d(t,"a",function(){return L})},KwrD:function(e,t,a){"use strict";a.d(t,"a",function(){return f}),a.d(t,"b",function(){return b});var c=a("6l12"),i=a("q1tI"),l=a.n(i),s=a("IsKo"),n=a("QFtp"),o=a("uNqx");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=Object(n.unionize)({Unenhanced:{},Enhanced:{}}),h=function(e){return e?f.Enhanced({}):f.Unenhanced({})},b=function(r){var e="WithRenderType(".concat(Object(o.a)(r),")"),t=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=m(this,d(t).apply(this,arguments))).createRenderTypeFromIsEnhancedMemoized=Object(c.a)(h),e}var a,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,i["Component"]),a=t,(n=[{key:"render",value:function(){var n=this;return l.a.createElement(s.Consumer,null,function(e){var t=e.isEnhanced,a=n.createRenderTypeFromIsEnhancedMemoized(t);return l.a.createElement(r,Object.assign({renderType:a},n.props))})}}])&&u(a.prototype,n),o&&u(a,o),t}();return t.displayName=e,t}},Me4T:function(e,t,a){e.exports={horizontalGutter:"24px",verticalGutter:"48px",container:"_3iCs8"}},OlR6:function(e,t,a){"use strict";var n=a("TSYQ"),c=a.n(n),r=a("7H/G"),i=a("q1tI"),l=a.n(i),s=a("KwrD"),o=a("GBJA"),u=Object(o.a)("M0 26c0 1.7.2 3.3.6 4.9.2.9.7.9 1 0 2.1-5.3 5.5-10.3 11.1-11.3h3.3v4.4c0 2 1.2 2.6 2.6 1.4l12.8-11c.7-.6.7-1.6 0-2.3l-12.8-11c-1.4-1.3-2.6-.6-2.6 1.3v4.7c-9.6 1.6-16 9.4-16 18.9z"),m=a("6kA8"),d=a("zzft"),p=a.n(d);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=b(this,g(a).call(this,e))).state=t.getInitialState(),t}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,i["PureComponent"]),t=a,(n=[{key:"getInitialState",value:function(){var a=this,e=this.props.renderType;return{maybeShareFunction:s.a.match({Enhanced:function(){return r.a.some(window)},Unenhanced:function(){return r.a.none()}})(e).chain(function(t){return void 0!==t.navigator.share?r.a.some(function(e){return t.navigator.share(e)}):r.a.none()}).map(function(e){var t=a.props.shareOptions;return function(){return e(t)}})}}},{key:"renderContent",value:function(){return l.a.createElement("div",{className:p.a.flexContainer},l.a.createElement(u,{className:p.a.icon}),l.a.createElement("span",{className:p.a.text},"Share"))}},{key:"render",value:function(){var t=this,e=this.props,a=e.shareLocationDescriptor,n=e.className,o=this.state.maybeShareFunction,r={className:c()(p.a.flexContainer,n),buttonType:"outline",buttonSize:"small"};return o.map(function(e){return l.a.createElement(m.a,Object.assign({tag:"button",onClick:e},r),t.renderContent())}).getOrElseL(function(){return l.a.createElement(m.a,Object.assign({tag:"link",to:a},r),t.renderContent())})}}])&&h(t.prototype,n),o&&h(t,o),a}(),O=Object(s.b)(v);a.d(t,"a",function(){return O})},Qx4Z:function(e,t,a){e.exports={colorGrey:"#999",outerHorizontalGutter:"16px",innerHorizontalGutter:"8px",cellPadding:"calc(8px / 2)",container:"_307c3",actions:"_3-6v7",cell:"_2iWc-",buttonCell:"_27vvN _2iWc-",photographer:"HAAez _2iWc-",downloadButtonCell:"_13Q- _27vvN _2iWc-",downloadButton:"_1AA_u",secondaryLabel:"_2cSl3"}},R3Dg:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),o=a("Xp7I"),l=a.n(o),r=a("q1tI"),s=a.n(r),c=a("rd0y"),u=a("aOk/"),m=a("nVTw"),d=a("2Fwo"),p=a("eSEV"),f=a("dqiQ"),h=a.n(f),b=Object(m.a)()({tags:[],headingCopy:"Related searches",showHeading:!1,hideOnMobile:!1,maximumResultsCount:c.b}),g=function(e){var t=e.showHeading,a=e.tags,n=e.hideOnMobile,o=e.headingCopy,r=e.maximumResultsCount,c=l()(a,r);return 0===c.length?s.a.createElement("div",null):s.a.createElement("div",{className:i()(h.a.container,n&&h.a.hideOnMobile)},t&&s.a.createElement("p",{className:h.a.heading},o),s.a.createElement(p.a,{tags:c,emplacement:u.a.Related}))};g.displayName="RelatedTags";var y=Object(d.a)(g,b);a.d(t,"a",function(){return y})},RGU6:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),r=a("/MKj"),c=a("nVTw"),i=a("2Fwo"),l=a("MZik"),s=a("ZGnK"),u=a("84kf"),m=a.n(u),d=Object(c.a)()({relatedCollectionIds:[]}),p=function(e){var t=e.relatedCollections,a=e.heading;return 0===t.length?null:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:m.a.clearfix},o.a.createElement("p",{className:m.a.heading},a)),o.a.createElement("div",{className:m.a.contentContainer},o.a.createElement(s.a,{collections:t})))};p.displayName="RelatedCollections";var f=Object(i.a)(Object(r.connect)(function(e,t){return{relatedCollections:Object(l.d)(e,t.relatedCollectionIds)}})(p),d);a.d(t,"a",function(){return f})},WG02:function(e,t,a){var n=a("rj6w")(function(e,t){return e+t},0);e.exports=n},Z09w:function(e,t,a){e.exports={"--sm":"(--sm)","--sm-min":"(--sm-min)","--md-min":"(--md-min)",colorLightGrey:"#ddd",placeholderBackground:"_2VWD4",verticalGutter:"48px",horizontalGutter:"24px","col-12":"wRfkF","sm-col-6":"_2cVF0","md-col-4":"_1hITE",collectionContainer:"aRXfJ wRfkF _2cVF0 _1hITE",placeholderAspectRatioWrapper:"_38ir7",placeholderContainer:"_23eiF",placeholder:"hr_aU _2VWD4",placeholderTextBox:"_1ct3H _2VWD4",placeholderTextBox2:"_2h2D1 _2VWD4",placeholderTextBox3:"_3Lyw- _2VWD4",placeholderTextBox1:"_3pEhD _2VWD4"}},ZGnK:function(e,t,a){"use strict";var h,n,o=a("q1tI"),b=a.n(o),r=a("QH2T"),g=a("7H/G"),c=a("/MKj"),y=a("2iEm"),v=a("aOk/"),O=a("s6EG"),I=a("g9Q9"),i=a("nVTw"),l=a("2Fwo"),E=a("Bcq+"),s=a("MH8j"),w=a("nxu7"),S=a("eSEV"),j=a("g1g5"),u=a("NbrK"),m=a("PCiO"),d=a("gDEP"),p=a("uYHa"),f=a("d/M0"),_=a.n(f),R=Object(u.e)({styles:_.a,key:"maxWidth",fallback:200});(n=h||(h={})).full="full",n.half="half";var T=function(e){return e.urls.raw},D=function(t){return function(e){return{src:Object(d.a)(e)({w:R}),srcSet:Object(m.a)({baseUrl:e,width:R*function(e){switch(e){case h.full:return Object(p.g)(Object(u.e)({styles:_.a,key:"bigImagePercentage",fallback:50}));case h.half:return Object(p.g)(Object(u.e)({styles:_.a,key:"smallImagePercentage",fallback:50}))}}(t),getParams:g.a.none()})}}},N=function(e,t,a){return e.chain(function(e){return Object(i.d)(t,e)}).map(T).map(D(a))},P=Object(i.a)()({showUserInfo:!0}),C=function(e){var t=e.collection,a=e.isLoggedIn,n=e.showUserInfo,o=t.user,r=t.total_photos,c=t.preview_photos,i=t.private,l=t.tags,s=Object(O.e)(t),u=g.a.of(c),m=N(u,0,h.full),d=N(u,1,h.half),p=N(u,2,h.half),f=n?b.a.createElement("span",null," ","· Curated by"," ",a?b.a.createElement(y.a,{to:Object(I.h)(o),className:_.a.userLink},o.name):o.name):null;return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:_.a.aspectRatioWrapper},b.a.createElement("div",{className:_.a.collectionContainer},b.a.createElement(y.a,{to:{pathname:s},className:_.a.linkWrapper},b.a.createElement("div",{className:_.a.imagesContainer},m.map(function(e){var t=e.src,a=e.srcSet;return b.a.createElement(w.a,{role:"presentation",containerClassName:_.a.bigImageWrapper,className:_.a.image,src:t,srcSet:a})}).getOrElse(b.a.createElement("div",{className:_.a.bigImageWrapper})),b.a.createElement("div",{className:_.a.smallImagesContainer},d.map(function(e){var t=e.src,a=e.srcSet;return b.a.createElement(w.a,{role:"presentation",containerClassName:_.a.smallImageWrapper,className:_.a.image,src:t,srcSet:a})}).getOrElse(b.a.createElement("div",{className:_.a.smallImageWrapper})),p.map(function(e){var t=e.src,a=e.srcSet;return b.a.createElement(w.a,{role:"presentation",containerClassName:_.a.smallImageWrapper,className:_.a.image,src:t,srcSet:a})}).getOrElse(b.a.createElement("div",{className:_.a.smallImageWrapper})))),b.a.createElement("div",{className:_.a.titleContainer},i&&b.a.createElement("span",{className:_.a.isPrivateContainer},b.a.createElement(j.a,{className:_.a.isPrivateTooltip,label:"This collection is private. To share, copy the URL or make the collection public.",width:200},b.a.createElement(E.a,{className:_.a.iconPrivate}))),b.a.createElement("div",{className:_.a.title},t.title))),b.a.createElement("div",{className:_.a.description},r," photos",f))),b.a.createElement(S.a,{tags:l,takeN:3,emplacement:v.a.CollectionCard}))};C.displayName="CollectionCard";var k=Object(l.a)(Object(c.connect)(function(e,t){return{isLoggedIn:Object(s.k)(e)}})(C),P),x=a("Z09w"),L=a.n(x),A=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(a[n[o]]=e[n[o]])}return a},F=function(e){var t=e.collection,a=A(e,["collection"]);return b.a.createElement("div",{className:L.a.collectionContainer,"data-test":r.c},void 0!==t?b.a.createElement(k,Object.assign({collection:t},a)):b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:L.a.placeholderAspectRatioWrapper},b.a.createElement("div",{className:L.a.placeholderContainer},b.a.createElement("div",{className:L.a.placeholder}),b.a.createElement("div",{className:L.a.placeholderTextBox}),b.a.createElement("div",{className:L.a.placeholderTextBox2}))),b.a.createElement("div",{className:L.a.placeholderTextBox3})))};F.displayName="CollectionGridCard";var U=F,M=a("Me4T"),B=a.n(M),W=function(e){var t=e.collections;return b.a.createElement("div",{className:B.a.container},t.map(function(e,t){return b.a.createElement(U,{key:t,collection:e})}))};W.displayName="CollectionGrid";var q=W;a.d(t,"a",function(){return q})},aGzw:function(e,t,a){e.exports={resetBtn:"DWLeW",spacingUnit:"4px",centerItem:"_3mCZ_",isFixedMediaCondition:"(max-width: 767px)",isZoomableMediaCondition:"(min-width: 768px)",imagePlaceholder:"_2yFK-",imageContainer:"_1ac-D _3mCZ_",imageButton:"_1szcv DWLeW",overlay:"_2MKkb",imageButtonZoomedIn:"_2-OhB",imageButtonZoomedOut:"_1YS_6",overlayChild:"_1w7cG",zoomToggleIcon:"_1NYtf",isFixed:"pADQw",isZoomable:"_2QvSN"}},"d/M0":function(e,t,a){e.exports={"--sm":"(--sm)","--md-min":"(--md-min)",colorGrey:"#999",colorDarkWhite:"#f5f5f5",colorLightBlack:"#111",headingXs:"_2uOAz",fontWeightSemibold:"_13Ib2",truncate:"_1ByhS",textDecorationNone:"_1CBrG",maxWidth:"750px",smallImagePercentage:"30%",bigImagePercentage:"70%",aspectRatioWrapper:"_2Dp1M",collectionContainer:"_28_Yu",linkWrapper:"fM0CB _1CBrG",imagesContainer:"_2zwgf",smallImagesContainer:"_2gO6E",image:"Kh8bw",bigImageWrapper:"_2vGrb",smallImageWrapper:"mTW0H",titleContainer:"_3zVYZ _1ByhS",iconPrivate:"_39uDR",title:"_2LKkn _2uOAz _13Ib2 _1ByhS",description:"_3-HBj _1ByhS",userLink:"_37zDu"}},dqiQ:function(e,t,a){e.exports={"--sm-min":"(--sm-min)",container:"_3w_cF _2sCnE PrOBO _1CR66",fontWeightNormal:"_27Bp2",heading:"_2azK- _27Bp2",hideOnMobile:"_1Co2N"}},eSEV:function(e,t,a){"use strict";var n=a("Xp7I"),o=a.n(n),r=a("q1tI"),c=a.n(r),i=a("TSYQ"),l=a.n(i),s=a("/MKj"),u=a("2iEm"),m=a("b2r9"),d=a("g9Q9"),p=a("fO8F"),f=a.n(p),h=function(e){var t=e.tag,a=e.emplacement,n=e.trackSearchSuggestionClick,o=e.className,r="linkUrl"in t?t.linkUrl:Object(d.e)(t.title);return c.a.createElement(u.a,{className:l()(f.a.smallTag,o),to:r,title:"".concat(t.title," images"),onClick:function(){return n(t.title.toLowerCase(),a)}},t.title)};h.displayName="SmallTag";var b={trackSearchSuggestionClick:m.R},g=Object(s.connect)(null,b)(h),y=a("hBm8"),v=a.n(y),O=function(e){var t=e.tags,a=e.emplacement,n=e.takeN;return c.a.createElement("div",{className:v.a.tagsContainer},(n?o()(t,n):t).map(function(e){return c.a.createElement("div",{key:e.title,className:v.a.tagItem},c.a.createElement(g,{tag:e,emplacement:a}))}))};O.displayName="SmallTagsList";var I=O;a.d(t,"a",function(){return I})},fO8F:function(e,t,a){e.exports={smallTag:"_6PxCM"}},fqlR:function(e,t,a){"use strict";a.d(t,"b",function(){return o}),a.d(t,"c",function(){return s}),a.d(t,"a",function(){return u});var n=a("56YH"),r=a.n(n),c=a("q1tI"),i=a("0uHb");function l(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=function(e){var o=e.render;return r()(function(e){return e.map(function(e){var t,a=e.maybeEl,n=e.key;return a.map(o).map((t=n,function(e){return Object(c.cloneElement)(e,{key:t})}))})},i.a)},s=function(e){var t=e.render,a=e.renderItem;return r()(o({render:a}),i.c,function(e){return e.map(t)})},u=function(n,o){return n.reduce(function(e,t,a){return l(e).concat([t],l(a===n.length-1?[]:[o(a)]))},[])}},fxGX:function(e,t,a){var n=a("/9aa");e.exports=function(e){return"number"==typeof e?e:n(e)?NaN:+e}},h8Sd:function(e,t,a){"use strict";var n=a("GBJA");t.a=Object(n.a)("M16 0c-6.7 0-12 5.3-12 12 0 8.6 8.6 17.3 11.2 19.7.4.4 1.1.4 1.5 0 2.7-2.4 11.3-11.1 11.3-19.7 0-6.7-5.3-12-12-12zm0 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z")},hBm8:function(e,t,a){e.exports={gutter:"8px",tagsContainer:"_2_OE1",tagItem:"_3Z-ua"}},mDfz:function(e,t,a){e.exports={colorGrey:"#999",fontWeightMedium:"xLon9",lineHeightTitle:"U8wGh",lineHeightCopy:"_13hUA",containerPaddingUnit:"16px",cellPaddingUnit:"8px",headerFontSize:"21px",smallFontSize:"12px",placeholderBackground:"_2VWD4",container:"_11so1",cell:"_3aBA9",col:"Rs1Ko",containerTitle:"_3dtte _11so1",containerFooter:"_2qSy1 _11so1",title:"_2dIZQ U8wGh",datePublished:"_1vScU",p:"_5UTXm",stats:"_19Kkj _11so1",stat:"_1H3Tk _3aBA9 Rs1Ko",statLabel:"_2FiKI",statLabelIcon:"_2nkiz",statLabelText:"B5nBa xLon9",statValue:"_2zoGD",statValueTotal:"_20G9q _13hUA",statValueDelta:"_3R4g7",metadataItemName:"_24YMC",hr:"_1CXhw",metadata:"_1Z2CJ _11so1",metadataItem:"_1XYV- _3aBA9 Rs1Ko",metadataItemValue:"_3Dok4",statValueTotalPlaceholder:"_19b04 _2VWD4",statValueDeltaPlaceholder:"_2rDWN _2VWD4"}},oW1j:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a("q1tI"),o=a.n(n),r=a("/MKj"),c=a("uNqx"),i=a("DQFP"),l=function(t){var e=function(e){return o.a.createElement(t,Object.assign({},e,{photos:e.photos}))};e.displayName="MapPhotoIdsToPhotos(".concat(Object(c.a)(t),")");return Object(r.connect)(function(){var a=Object(i.g)();return function(e,t){return{photos:a(e,t.photoIds)}}})(e)}},pKCy:function(e,t,a){e.exports={smallFontSize:"12px",outerHorizontalGutter:"16px",innerHorizontalGutter:"8px",cellPadding:"calc(8px / 2)",spacingUnit:"4px",colorLightBlack:"#111",truncate:"_1ByhS",fontWeightMedium:"xLon9",resetBtn:"DWLeW",container:"_1ltEq",cell:"_3dxKb",halfCell:"_3kEvh",textContainer:"_2DxLe _3kEvh",textContainerNotTruncated:"gfzKD",textContainerTruncated:"OD7Kw",textContainerItem:"_28uSB _3kEvh",locationLink:"_2RL3a xLon9",locationIcon:"_15of1",locationTitle:"_20NLS _1ByhS",button:"_3JXJ6",buttonIcon:"_1rYbs",buttonText:"_1efgd",smallButton:"ldOpn"}},rd0y:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"b",function(){return o}),a.d(t,"d",function(){return r}),a.d(t,"a",function(){return c});var n=4,o=12,r=30,c=30},rj6w:function(e,t,a){var r=a("fxGX"),c=a("zoYe");e.exports=function(n,o){return function(e,t){var a;if(void 0===e&&void 0===t)return o;if(void 0!==e&&(a=e),void 0!==t){if(void 0===a)return t;t="string"==typeof e||"string"==typeof t?(e=c(e),c(t)):(e=r(e),r(t)),a=n(e,t)}return a}}},tD8i:function(e,t,a){"use strict";var n=a("GBJA");t.a=Object(n.a)("M16 0c-8.8 0-16 7.2-16 16s7.2 16 16 16 16-7.2 16-16-7.2-16-16-16zm2 25c0 .6-.4 1-1 1h-2c-.6 0-1-.4-1-1v-12c0-.6.4-1 1-1h2c.6 0 1 .4 1 1v12zm0-16c0 .6-.4 1-1 1h-2c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h2c.6 0 1 .4 1 1v2z")},umpm:function(e,t){
/*!
 * array-to-sentence | MIT (c) Shinnosuke Watanabe
 * https://github.com/shinnn/array-to-sentence
*/
e.exports=function(e,t){"use strict";if(!Array.isArray(e))throw new TypeError(String(e)+" is not an array. Expected an array.");function a(e){if("string"!=typeof t[e])throw new TypeError(String(t[e])+" is not a string. `"+e+"` option must be a string.")}return void 0===(t=t||{}).separator?t.separator=", ":a("separator"),void 0===t.lastSeparator?t.lastSeparator=" and ":a("lastSeparator"),0===e.length?"":1===e.length?e[0]:e.slice(0,-1).join(t.separator)+t.lastSeparator+e[e.length-1]}},wwzo:function(e,t,a){e.exports={modalContentModifier:"_3jegn"}},zzft:function(e,t,a){e.exports={spacingUnit:"4px",flexContainer:"_10F2J",icon:"_1xhtJ",text:"_3UPwX"}}}]);
//# sourceMappingURL=photos-route.68ece.js.map